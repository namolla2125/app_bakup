<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <title></title>
    <style>
      #menu, #bg, #bg-l, #bg-t, #bg-r {
        background-color: #efefef;
      }
      #menu {
        width: 600px;
        height: 300px;
        border-radius: 20px;
        text-align: center;
      }
      #bg {
        width: 100px;
        height: 130px;
        display: flex;
        text-align: center;
      }
      #bg-navebar {
        height: 10px;
      }
      .change-button {
        width: 20px;
        height: 10px;
      }
      #bg-t {
        width: 66px;
      }
      #bg-preview {
        width: 100px;
        height: 70px;
        border: 1px black solid;
        border-radius: 20px;
      }
    </style>
  </head>
  <body>
    <h1>설정</h1>
    <hr>
    <div id="menu">
      <div id="bg">
        <table id="bg-navebar">
          <tr>
            <td id="bg-t">베경색</td>
          </tr>
          <tr>
            <td colspan="3"><input id="test" type="color" onchange="input()" value="#f2ae1d" class="js-input-color"></td>
            
          </tr>
        </table>
        <!-- <div id="bg-preview"></div> -->
      </div>
    </div>
    <script>
      function load_bg_apply(bgcolor){
        document.querySelector(".js-input-color").value = bgcolor;
      }
      window.onload = function(){
        if(localStorage.getItem("namollatoolbox-setting") == null 
        || localStorage.getItem("namollatoolbox-setting") == ""){
          var test = {
            bg: ["#f2ae1d"]
          }
          localStorage.setItem("namollatoolbox-setting", JSON.stringify(test))
        }
        var localStorageItem = JSON.parse(localStorage.getItem("namollatoolbox-setting"))
        var bgcolor = localStorageItem.bg[0];
        load_bg_apply(bgcolor);
      }
      
      function input(){
        var input___ = document.getElementById("test").value;
        var test = {
            bg: [input___]
        }
        localStorage.setItem("namollatoolbox-setting", JSON.stringify(test));
      }
      
    </script>
  </body>
</html>